{% extends "stechec/base.html" %}
{% load static %}
{% load django_bootstrap_breadcrumbs %}

{% block title %}{{ champion.name }} â€” {{ tournament.name }}{% endblock %}
{% block titleh1 %}
{{ tournament.name }} : matchs de {{ champion.name }}
{% endblock %}

{% block breadcrumbs %}
  {{ block.super }}
  {% breadcrumb_for "tournaments-all" %}Tournois{% endbreadcrumb_for %}
  {% breadcrumb_for "tournament-detail" tournament.id %}{{ tournament.name }}{% endbreadcrumb_for %}
  {% breadcrumb_for "tournament-matches-view" tournament.id champion.id %}Matchs de {{ champion.name }}{% endbreadcrumb_for %}
{% endblock breadcrumbs %}

{% block content %}
<table class="table table-striped match-matrix">
  <thead>
    <tr>
      <th>Contre</th>
      <th>Auteur</th>
      {% for m in match_range %}
        <th>Match {{ m }}</th>
      {% endfor %}
    </tr>
  </thead>
  <tbody>
    {% for r in matrix %}
      <tr>
        <td><a href="{% url 'champion-detail' r.enemy.champion.pk %}">
            {{ r.enemy.champion.name }}</a></td>
        <td>{{ r.enemy.champion.author.get_full_name }}</td>
        {% for m in r.matches %}
          <td class="match-matrix-{{ m.result }}">
            <a href="{% url 'match-detail' m.id %}">{{ m.score }}</a>
          </td>
        {% empty %}
          <td colspan="8" >Aucun match</td>
        {% endfor %}
      </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
